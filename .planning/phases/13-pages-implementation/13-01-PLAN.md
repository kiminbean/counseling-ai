---
phase: 13-pages-implementation
plan: 01
type: execute
depends_on: []
files_modified: [app/settings/page.tsx, app/privacy/page.tsx, app/help/page.tsx, contexts/ThemeContext.tsx, hooks/useTheme.ts, hooks/index.ts, components/providers/Providers.tsx, app/layout.tsx, tailwind.config.ts]
---

<objective>
미구현 페이지 완성: /settings, /privacy, /help 페이지 구현

Purpose: v1.2에서 링크만 있고 404를 반환하던 페이지들을 완성하여 사용자 경험 완성
Output: 3개의 새 페이지와 다크모드 지원
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/codebase/CONVENTIONS.md
@.planning/codebase/STRUCTURE.md

**Tech stack available:** Next.js 14, TypeScript, Tailwind CSS, Lucide React
**Established patterns:** Client components with 'use client', hooks pattern, AuthContext
**Key files:**
@app/layout.tsx
@app/profile/page.tsx
@components/layout/AppShell.tsx
@contexts/AuthContext.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create ThemeContext and useTheme hook for dark mode</name>
  <files>contexts/ThemeContext.tsx, hooks/useTheme.ts, hooks/index.ts</files>
  <action>
  1. Create contexts/ThemeContext.tsx:
     - ThemeProvider with 'light' | 'dark' | 'system' modes
     - localStorage persistence (key: 'theme')
     - System preference detection via matchMedia('(prefers-color-scheme: dark)')
     - Apply 'dark' class to document.documentElement

  2. Create hooks/useTheme.ts:
     - Wrapper hook for useContext(ThemeContext)
     - Return { theme, setTheme, resolvedTheme }

  3. Update hooks/index.ts to export useTheme

  Follow existing AuthContext pattern for structure.
  </action>
  <verify>TypeScript compilation passes: npx tsc --noEmit</verify>
  <done>ThemeContext.tsx and useTheme.ts created, exported from hooks/index.ts</done>
</task>

<task type="auto">
  <name>Task 2: Integrate ThemeContext and update Tailwind config</name>
  <files>components/providers/Providers.tsx, app/layout.tsx, tailwind.config.ts</files>
  <action>
  1. Update tailwind.config.ts:
     - Add darkMode: 'class'

  2. Update components/providers/Providers.tsx:
     - Import ThemeProvider
     - Wrap children with ThemeProvider (inside AuthProvider)

  3. Update app/layout.tsx:
     - Add suppressHydrationWarning to html tag (prevents flash)
  </action>
  <verify>npm run build succeeds</verify>
  <done>Dark mode infrastructure ready, Tailwind configured for class-based dark mode</done>
</task>

<task type="auto">
  <name>Task 3: Create /settings page with all settings options</name>
  <files>app/settings/page.tsx</files>
  <action>
  Create settings page with sections:

  1. **테마 설정**
     - Light/Dark/System toggle buttons
     - Use useTheme hook

  2. **알림 설정** (UI only - placeholder)
     - Push 알림 on/off toggle
     - 소리 on/off toggle
     - localStorage 저장

  3. **개인정보 관리**
     - "대화 기록 삭제" 버튼 (localStorage clear)
     - "데이터 내보내기" 버튼 (JSON download)
     - Confirmation modal before delete

  4. **앱 정보**
     - 버전: v1.2.0
     - PWA 설치 안내 (usePWA hook 사용)

  Use existing component patterns (AppShell, BottomNav).
  Korean labels only.
  </action>
  <verify>Visit /settings in browser, all sections render without errors</verify>
  <done>/settings page displays all 4 sections, theme toggle works, data management functions</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] `npm test` passes all tests
- [ ] /settings page loads and displays correctly
- [ ] Theme toggle changes between light/dark/system
- [ ] Dark mode applies correctly to the page
</verification>

<success_criteria>
- ThemeContext and useTheme hook created
- Dark mode works with Tailwind class strategy
- /settings page has all 4 sections working
- No TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/13-pages-implementation/13-01-SUMMARY.md`
</output>
