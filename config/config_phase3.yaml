# =============================================================================
# Phase 3 Configuration - 국제화 및 고도화
# Bilingual Counseling AI Service
# Version: 3.0.0
# =============================================================================

app:
  name: "Bilingual Counseling AI - Phase 3"
  version: "3.0.0"
  environment: "production"
  phase: 3

  # 확장된 언어 지원
  languages:
    primary:
      - ko  # 한국어
      - en  # 영어
    secondary:
      - ja  # 일본어
      - zh  # 중국어 (간체)
      - zh-TW # 중국어 (번체)
      - vi  # 베트남어
  
  default_language: ko

  # 지역별 설정
  regions:
    korea:
      timezone: "Asia/Seoul"
      currency: "KRW"
      emergency_hotline: "1393"
      data_residency: "kr-central"
    japan:
      timezone: "Asia/Tokyo"
      currency: "JPY"
      emergency_hotline: "0570-064-556"
      data_residency: "jp-east"
    singapore:
      timezone: "Asia/Singapore"
      currency: "SGD"
      emergency_hotline: "1800-221-4444"
      data_residency: "sg-central"

# =============================================================================
# AI 슈퍼바이저 설정
# =============================================================================
ai_supervisor:
  enabled: true
  model: "supervisor-gpt-v3"
  
  # 품질 모니터링
  quality_monitoring:
    enabled: true
    sampling_rate: 0.1  # 10% 세션 샘플링
    metrics:
      - empathy_score
      - therapeutic_alliance
      - safety_compliance
      - cultural_appropriateness
      - clinical_accuracy
  
  # 품질 임계값
  thresholds:
    empathy_score_min: 0.7
    safety_compliance_min: 0.95
    cultural_appropriateness_min: 0.8
  
  # 실시간 개입
  real_time_intervention:
    enabled: true
    triggers:
      - crisis_detection
      - ethical_violation
      - clinical_error
      - user_dissatisfaction
    escalation_levels:
      - ai_correction
      - human_supervisor_alert
      - session_takeover
  
  # AI 코칭
  ai_coaching:
    enabled: true
    feedback_frequency: "per_session"
    learning_enabled: true

# =============================================================================
# 고급 개인화 설정
# =============================================================================
personalization:
  # 장기 기억 시스템
  long_term_memory:
    enabled: true
    storage: "vector_db"
    retention_days: 365
    encryption: "AES-256"
    memory_types:
      - emotional_patterns
      - coping_strategies
      - trigger_events
      - progress_milestones
      - preferences
      - cultural_context
  
  # 적응형 치료
  adaptive_therapy:
    enabled: true
    adaptation_frequency: "real_time"
    factors:
      - current_mood
      - historical_response
      - time_of_day
      - session_frequency
      - progress_trajectory
      - cultural_background
    approaches:
      - CBT
      - DBT
      - ACT
      - MI
      - PCT
      - SFBT
      - psychodynamic_lite
  
  # 예측 분석
  predictive_analytics:
    enabled: true
    models:
      - relapse_prediction
      - engagement_prediction
      - outcome_prediction
      - crisis_prediction
    alert_thresholds:
      relapse_risk: 0.7
      disengagement_risk: 0.6
      crisis_risk: 0.5

# =============================================================================
# 연구 플랫폼 설정
# =============================================================================
research_platform:
  enabled: true
  
  # 데이터 수집
  data_collection:
    anonymization: "k-anonymity"
    k_value: 5
    consent_required: true
    opt_in_default: false
    collected_metrics:
      - session_outcomes
      - engagement_patterns
      - therapeutic_effectiveness
      - cultural_factors
      - linguistic_patterns
  
  # 임상 시험 지원
  clinical_trials:
    enabled: true
    irb_integration: true
    randomization_support: true
    blinding_support: true
    study_types:
      - RCT
      - observational
      - cohort
      - case_control
  
  # 분석 도구
  analytics:
    dashboards:
      - researcher_dashboard
      - clinician_dashboard
      - admin_dashboard
    export_formats:
      - csv
      - json
      - spss
      - stata
      - r_data

# =============================================================================
# 온프레미스 배포 설정
# =============================================================================
on_premise:
  enabled: true
  deployment_options:
    - docker_compose
    - kubernetes
    - bare_metal
  hardware_requirements:
    minimum:
      cpu: 8
      memory_gb: 32
      storage_gb: 500
      gpu: "optional"
    recommended:
      cpu: 16
      memory_gb: 64
      storage_gb: 1000
      gpu: "NVIDIA T4 or better"
  security:
    air_gap_support: true
    local_model_inference: true
    data_never_leaves_premise: true
    audit_logging: true
    compliance:
      - HIPAA
      - GDPR
      - PIPA
      - ISO27001
      - SOC2

# =============================================================================
# 디지털 치료제 인증 설정
# =============================================================================
digital_therapeutics:
  certification:
    korea:
      target: "디지털치료기기 2등급"
      regulatory_body: "식품의약품안전처"
      submission_date: "2026-Q2"
    international:
      fda_clearance:
        target: "510(k) Class II"
        predicate_device: "existing_dtx"
        timeline: "2027-Q1"
      ce_mark:
        target: "Class IIa Medical Device"
        notified_body: "TBD"
        timeline: "2027-Q2"
  clinical_evidence:
    required_studies:
      - name: "Efficacy RCT"
        participants: 300
        duration_weeks: 12
        primary_outcome: "PHQ-9 reduction"
      - name: "Safety Study"
        participants: 500
        duration_weeks: 24
        focus: "adverse_events"
      - name: "Real-World Evidence"
        participants: 1000
        duration_weeks: 52
        type: "observational"

# =============================================================================
# B2B2C 확장 설정
# =============================================================================
b2b2c:
  # 보험사 연동
  insurance_integration:
    enabled: true
    partners:
      - samsung_life
      - kyobo_life
      - hanwha_life
    features:
      - premium_discount
      - wellness_program
      - claims_integration
      - risk_assessment
  
  # 기업 EAP 확장
  eap_expansion:
    enterprise_features:
      - org_analytics
      - manager_dashboard
      - department_insights
      - roi_reporting
    integration:
      - hris_systems
      - slack
      - teams
      - workday

# =============================================================================
# 모델 설정 (Phase 3)
# =============================================================================
models:
  # 다국어 감정 분석
  emotion_classifier:
    name: "multilingual-emotion-bert-v3"
    languages: ["ko", "en", "ja", "zh"]
    num_labels: 12  # 확장된 감정 분류
    max_length: 512
    labels:
      ko: ["기쁨", "슬픔", "분노", "두려움", "놀람", "혐오", "중립", "불안", "수치심", "죄책감", "외로움", "희망"]
      en: ["joy", "sadness", "anger", "fear", "surprise", "disgust", "neutral", "anxiety", "shame", "guilt", "loneliness", "hope"]
      ja: ["喜び", "悲しみ", "怒り", "恐れ", "驚き", "嫌悪", "中立", "不安", "恥", "罪悪感", "孤独", "希望"]
  
  # 다국어 응답 생성
  response_generator:
    name: "counselor-gpt-v3"
    base_model: "multilingual-gpt"
    max_response_length: 400
    cultural_adaptation:
      enabled: true
      factors:
        - communication_style
        - emotional_expression
        - family_dynamics
        - stigma_sensitivity
  
  # AI 슈퍼바이저 모델
  supervisor:
    name: "clinical-supervisor-v3"
    capabilities:
      - quality_assessment
      - intervention_decision
      - feedback_generation
      - learning_optimization

# =============================================================================
# 인프라 설정 (Phase 3)
# =============================================================================
infrastructure:
  cloud:
    primary: "aws"
    regions:
      - ap-northeast-2  # Seoul
      - ap-northeast-1  # Tokyo
      - ap-southeast-1  # Singapore
    multi_region:
      enabled: true
      replication: "async"
      failover: "automatic"
  
  databases:
    primary:
      type: "postgresql"
      version: "15"
      cluster_size: 3
    vector_store:
      type: "pinecone"
      dimensions: 1536
      metric: "cosine"
    cache:
      type: "redis"
      cluster_mode: true
      nodes: 6
    time_series:
      type: "timescaledb"
      retention_policy: "365d"
  
  monitoring:
    apm: "datadog"
    logging: "elasticsearch"
    tracing: "jaeger"
    alerting: "pagerduty"

# =============================================================================
# 보안 및 규정 준수 (Phase 3)
# =============================================================================
security:
  encryption:
    at_rest: "AES-256"
    in_transit: "TLS 1.3"
    key_management: "aws_kms"
  
  authentication:
    methods:
      - oauth2
      - saml
      - mfa
    session_timeout: 3600
  
  audit:
    enabled: true
    retention_days: 2555  # 7 years
    tamper_proof: true
  
  compliance:
    frameworks:
      - GDPR
      - HIPAA
      - PIPA
      - ISO27001
      - SOC2_Type2
    certifications:
      target_date: "2026-Q4"
      auditor: "TBD"
